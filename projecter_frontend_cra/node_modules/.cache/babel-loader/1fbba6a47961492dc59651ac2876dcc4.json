{"ast":null,"code":"var _jsxFileName = \"/Users/csuftitan/Downloads/Projecter/projecter_frontend_cra/src/components/RequireAuth.jsx\",\n    _s = $RefreshSig$();\n\nimport { useLocation, Navigate, Outlet } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RequireAuth = _ref => {\n  _s();\n\n  let {\n    allowedRoles\n  } = _ref;\n  const location = useLocation();\n  const token = sessionStorage.getItem(\"token\");\n  const user = JSON.parse(sessionStorage.getItem(\"user\"));\n  const role = user === null || user === void 0 ? void 0 : user.role;\n  return token !== \"\" && allowedRoles !== null && allowedRoles !== void 0 && allowedRoles.includes(role) ? /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }, this) : token ? /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/unauthorized\",\n    state: {\n      from: location\n    },\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\",\n    state: {\n      from: location\n    },\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }, this);\n};\n\n_s(RequireAuth, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n\n_c = RequireAuth;\nexport default RequireAuth;\n\nvar _c;\n\n$RefreshReg$(_c, \"RequireAuth\");","map":{"version":3,"names":["useLocation","Navigate","Outlet","RequireAuth","allowedRoles","location","token","sessionStorage","getItem","user","JSON","parse","role","includes","from"],"sources":["/Users/csuftitan/Downloads/Projecter/projecter_frontend_cra/src/components/RequireAuth.jsx"],"sourcesContent":["import { useLocation, Navigate, Outlet } from \"react-router-dom\";\n\nconst RequireAuth = ({ allowedRoles }) => {\n  const location = useLocation();\n  const token = sessionStorage.getItem(\"token\");\n  const user = JSON.parse(sessionStorage.getItem(\"user\"));\n  const role = user?.role;\n\n  return token !== \"\" && allowedRoles?.includes(role) ? (\n    <Outlet />\n  ) : token ? (\n    <Navigate to=\"/unauthorized\" state={{ from: location }} replace />\n  ) : (\n    <Navigate to=\"/login\" state={{ from: location }} replace />\n  );\n};\n\nexport default RequireAuth;\n"],"mappings":";;;AAAA,SAASA,WAAT,EAAsBC,QAAtB,EAAgCC,MAAhC,QAA8C,kBAA9C;;;AAEA,MAAMC,WAAW,GAAG,QAAsB;EAAA;;EAAA,IAArB;IAAEC;EAAF,CAAqB;EACxC,MAAMC,QAAQ,GAAGL,WAAW,EAA5B;EACA,MAAMM,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAd;EACA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWJ,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAX,CAAb;EACA,MAAMI,IAAI,GAAGH,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEG,IAAnB;EAEA,OAAON,KAAK,KAAK,EAAV,IAAgBF,YAAhB,aAAgBA,YAAhB,eAAgBA,YAAY,CAAES,QAAd,CAAuBD,IAAvB,CAAhB,gBACL,QAAC,MAAD;IAAA;IAAA;IAAA;EAAA,QADK,GAEHN,KAAK,gBACP,QAAC,QAAD;IAAU,EAAE,EAAC,eAAb;IAA6B,KAAK,EAAE;MAAEQ,IAAI,EAAET;IAAR,CAApC;IAAwD,OAAO;EAA/D;IAAA;IAAA;IAAA;EAAA,QADO,gBAGP,QAAC,QAAD;IAAU,EAAE,EAAC,QAAb;IAAsB,KAAK,EAAE;MAAES,IAAI,EAAET;IAAR,CAA7B;IAAiD,OAAO;EAAxD;IAAA;IAAA;IAAA;EAAA,QALF;AAOD,CAbD;;GAAMF,W;UACaH,W;;;KADbG,W;AAeN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}